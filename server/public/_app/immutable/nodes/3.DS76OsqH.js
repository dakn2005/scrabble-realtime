import{a as Ne,e as h,d as C,t as ne,f as m,h as k,k as _,l as I,v as X,j as re,w as c,z as Be,m as z,o as u,x as $,B as A,r as Pe,H as Ve,I as Le,C as je,p as Ae,n as He}from"../chunks/scheduler.C56bEs1V.js";import{S as Oe,i as Ue,c as fe,b as pe,m as he,t as me,a as _e,d as be}from"../chunks/index.izBhtSeB.js";import{e as Te,S as Me,t as ae,a as $e}from"../chunks/app.Dwi3li-F.js";import{D as ze}from"../chunks/Dotlottie.Dvpy40Hs.js";function Ee(l,t,e){const a=l.slice();return a[19]=t[e],a}function Ce(l){let t,e,a,o=(l[6].length>0?l[7][l[6]]:'<i class="fa-brands fa-twitter"></i>')+"",s,p,d=Te(Object.keys(l[7])),n=[];for(let i=0;i<d.length;i+=1)n[i]=Ie(Ee(l,d,i));return{c(){t=h("div"),e=h("div"),a=new Ve(!1),s=C(),p=h("ul");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){t=m(i,"DIV",{class:!0});var b=k(t);e=m(b,"DIV",{tabindex:!0,class:!0});var r=k(e);a=Le(r,!1),r.forEach(_),s=I(b),p=m(b,"UL",{tabindex:!0,class:!0});var v=k(p);for(let H=0;H<n.length;H+=1)n[H].l(v);v.forEach(_),b.forEach(_),this.h()},h(){a.a=null,c(e,"tabindex","0"),c(e,"class","btn bg-transparent border-none shadow-none"),c(p,"tabindex","0"),c(p,"class","menu dropdown-content bg-base-100 rounded-box z-[1] w-fit p-2 shadow"),c(t,"class","dropdown")},m(i,b){z(i,t,b),u(t,e),a.m(o,e),u(t,s),u(t,p);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(p,null)},p(i,b){if(b&64&&o!==(o=(i[6].length>0?i[7][i[6]]:'<i class="fa-brands fa-twitter"></i>')+"")&&a.p(o),b&192){d=Te(Object.keys(i[7]));let r;for(r=0;r<d.length;r+=1){const v=Ee(i,d,r);n[r]?n[r].p(v,b):(n[r]=Ie(v),n[r].c(),n[r].m(p,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=d.length}},d(i){i&&_(t),je(n,i)}}}function Ie(l){let t,e,a,o=l[7][l[19]]+"",s,p;function d(){return l[15](l[19])}return{c(){t=h("li"),e=h("button"),a=new Ve(!1),this.h()},l(n){t=m(n,"LI",{});var i=k(t);e=m(i,"BUTTON",{});var b=k(e);a=Le(b,!1),b.forEach(_),i.forEach(_),this.h()},h(){a.a=null},m(n,i){z(n,t,i),u(t,e),a.m(o,e),s||(p=A(e,"click",d),s=!0)},p(n,i){l=n},d(n){n&&_(t),s=!1,p()}}}function De(l){let t,e,a;return{c(){t=ne("(KES "),e=ne(l[3]),a=ne(")")},l(o){t=re(o,"(KES "),e=re(o,l[3]),a=re(o,")")},m(o,s){z(o,t,s),z(o,e,s),z(o,a,s)},p(o,s){s&8&&Ae(e,o[3])},d(o){o&&(_(t),_(e),_(a))}}}function Se(l){let t;return{c(){t=h("span"),this.h()},l(e){t=m(e,"SPAN",{class:!0}),k(t).forEach(_),this.h()},h(){c(t,"class","loading loading-spinner loading-xs")},m(e,a){z(e,t,a)},d(e){e&&_(t)}}}function xe(l){let t,e,a,o,s,p,d,n,i='<span class="text-3xl">Buy David a Coffee</span> <div><span class="badge badge-warning" style="font-size: 10px;">You&#39;ll receive a push notification from Â <strong>CRAFTIT LTD</strong></span></div>',b,r,v,H="100",R,L,Y="300",Z,O,G="500",q,N,P,V,U,D,Q=l[1].includes("@"),W,B,ie,j,oe,K,E,ue,ee,te,ce,x,ve='<span class="text-xs mr-5 mt-5">Powered by</span> <img src="/mpesa.png" alt="mpesa logo" width="50" height="75"/>',F,de,ge;s=new ze({props:{src:"/coffee.lottie",background:"transparent",speed:"1",direction:"1",playMode:"normal",autoplay:!0,loop:!0}});let g=Q&&Ce(l),w=l[3]>0&&De(l),y=l[5]&&Se();return{c(){t=h("div"),e=h("div"),a=h("div"),o=h("div"),fe(s.$$.fragment),p=C(),d=h("div"),n=h("div"),n.innerHTML=i,b=C(),r=h("div"),v=h("button"),v.textContent=H,R=C(),L=h("button"),L.textContent=Y,Z=C(),O=h("button"),O.textContent=G,q=C(),N=h("input"),P=C(),V=h("input"),U=C(),D=h("label"),g&&g.c(),W=C(),B=h("input"),ie=C(),j=h("textarea"),oe=C(),K=h("div"),E=h("button"),ue=ne("Support "),w&&w.c(),ee=C(),y&&y.c(),ce=C(),x=h("div"),x.innerHTML=ve,this.h()},l(f){t=m(f,"DIV",{style:!0,class:!0});var T=k(t);e=m(T,"DIV",{class:!0});var le=k(e);a=m(le,"DIV",{class:!0});var we=k(a);o=m(we,"DIV",{class:!0});var ke=k(o);pe(s.$$.fragment,ke),ke.forEach(_),we.forEach(_),p=I(le),d=m(le,"DIV",{class:!0});var S=k(d);n=m(S,"DIV",{class:!0,"data-svelte-h":!0}),X(n)!=="svelte-1u54oh7"&&(n.innerHTML=i),b=I(S),r=m(S,"DIV",{class:!0});var M=k(r);v=m(M,"BUTTON",{class:!0,"data-svelte-h":!0}),X(v)!=="svelte-46zycw"&&(v.textContent=H),R=I(M),L=m(M,"BUTTON",{class:!0,"data-svelte-h":!0}),X(L)!=="svelte-likrhw"&&(L.textContent=Y),Z=I(M),O=m(M,"BUTTON",{class:!0,"data-svelte-h":!0}),X(O)!=="svelte-16ik34"&&(O.textContent=G),q=I(M),N=m(M,"INPUT",{type:!0,class:!0}),M.forEach(_),P=I(S),V=m(S,"INPUT",{type:!0,class:!0,placeholder:!0}),U=I(S),D=m(S,"LABEL",{class:!0});var se=k(D);g&&g.l(se),W=I(se),B=m(se,"INPUT",{type:!0,class:!0,placeholder:!0}),se.forEach(_),ie=I(S),j=m(S,"TEXTAREA",{class:!0,placeholder:!0}),k(j).forEach(_),oe=I(S),K=m(S,"DIV",{class:!0});var ye=k(K);E=m(ye,"BUTTON",{class:!0});var J=k(E);ue=re(J,"Support "),w&&w.l(J),ee=I(J),y&&y.l(J),J.forEach(_),ye.forEach(_),S.forEach(_),le.forEach(_),ce=I(T),x=m(T,"DIV",{class:!0,"data-svelte-h":!0}),X(x)!=="svelte-18f84r"&&(x.innerHTML=ve),T.forEach(_),this.h()},h(){c(o,"class","w-24 text-center"),c(a,"class","card-title justify-center"),c(n,"class","flex flex-col w-full text-center mb-5"),c(v,"class","btn bg-lime-400 hover:bg-lime-500 rounded-lg"),c(L,"class","btn bg-lime-400 hover:bg-lime-500 rounded-lg"),c(O,"class","btn bg-lime-400 hover:bg-lime-500 rounded-lg"),c(N,"type","text"),c(N,"class","w-24 input input-bordered rounded-md"),c(r,"class","flex flex-row space-x-2"),c(V,"type","text"),c(V,"class","input input-bordered rounded-md text-sm"),c(V,"placeholder","phone number (07...)"),c(B,"type","text"),c(B,"class","text-sm"),c(B,"placeholder","Name or @ (optional)"),c(D,"class","input input-bordered rounded-md flex items-center gap-2"),c(j,"class","textarea textarea-bordered rounded-md"),c(j,"placeholder","Message (optional)"),E.disabled=te=!l[3]||l[3]<100||l[4].length<1||l[4].length>10||l[5],c(E,"class","btn btn-warning text-center"),c(K,"class","card-actions justify-end"),c(d,"class","card-body"),c(e,"class","card w-1/2 xl:w-1/3 shadow-xl m-auto"),c(x,"class","card w-1/2 xl:w-1/3 m-auto mt-10 flex flex-row justify-end"),Be(t,"height","100vh"),c(t,"class","pt-20 bg-base-100")},m(f,T){z(f,t,T),u(t,e),u(e,a),u(a,o),he(s,o,null),u(e,p),u(e,d),u(d,n),u(d,b),u(d,r),u(r,v),u(r,R),u(r,L),u(r,Z),u(r,O),u(r,q),u(r,N),$(N,l[0]),u(d,P),u(d,V),$(V,l[4]),u(d,U),u(d,D),g&&g.m(D,null),u(D,W),u(D,B),$(B,l[1]),u(d,ie),u(d,j),$(j,l[2]),u(d,oe),u(d,K),u(K,E),u(E,ue),w&&w.m(E,null),u(E,ee),y&&y.m(E,null),u(t,ce),u(t,x),F=!0,de||(ge=[A(v,"click",l[10]),A(L,"click",l[11]),A(O,"click",l[12]),A(N,"input",l[13]),A(V,"input",l[14]),A(B,"input",l[16]),A(j,"input",l[17]),A(E,"click",l[18])],de=!0)},p(f,[T]){T&1&&N.value!==f[0]&&$(N,f[0]),T&16&&V.value!==f[4]&&$(V,f[4]),T&2&&(Q=f[1].includes("@")),Q?g?g.p(f,T):(g=Ce(f),g.c(),g.m(D,W)):g&&(g.d(1),g=null),T&2&&B.value!==f[1]&&$(B,f[1]),T&4&&$(j,f[2]),f[3]>0?w?w.p(f,T):(w=De(f),w.c(),w.m(E,ee)):w&&(w.d(1),w=null),f[5]?y||(y=Se(),y.c(),y.m(E,null)):y&&(y.d(1),y=null),(!F||T&56&&te!==(te=!f[3]||f[3]<100||f[4].length<1||f[4].length>10||f[5]))&&(E.disabled=te)},i(f){F||(me(s.$$.fragment,f),F=!0)},o(f){_e(s.$$.fragment,f),F=!1},d(f){f&&_(t),be(s),g&&g.d(),w&&w.d(),y&&y.d(),de=!1,Pe(ge)}}}function Ke(l,t,e){let a=0,o,s="",p=!1,d="",n="",i="",b={twirra:'<i class="fa-brands fa-twitter"></i>',tiktok:'<i class="fa-brands fa-tiktok"></i>',insta:'<i class="fa-brands fa-instagram"></i>',linkedin:'<i class="fa-brands fa-linkedin"></i>'};function r(P){e(3,a=P)}async function v(){var D;e(5,p=!0);let P=s.replace(/^0+/,"254").replace(/\s/,""),U=await(await fetch(Me+"/api/coffee/mpesa",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({amount:a,phone:P,socialat_name_handle:n,message:i,socialat:d})}).catch(Q=>{ae.error("Couldn't communicate with the server"),e(5,p=!1)})).json();(D=U==null?void 0:U.body)!=null&&D.response?U.body.response.status=="success"?ae.success(U.body.response.message,5e3):ae.warning(U.body.response.message,6500):ae.error("Server error",6500),e(5,p=!1)}const H=()=>r(100),R=()=>r(300),L=()=>r(500);function Y(){o=this.value,e(0,o)}function Z(){s=this.value,e(4,s)}const O=P=>e(6,d=P);function G(){n=this.value,e(1,n)}function q(){i=this.value,e(2,i)}const N=()=>v();return l.$$.update=()=>{l.$$.dirty&1&&e(3,a=o),l.$$.dirty&4&&e(2,i=i.replace(/[^a-zA-Z0-9\.@,_-\s\!\?]/g,"")),l.$$.dirty&2&&e(1,n=n.replace(/[^a-zA-Z0-9\.@_-\s]/g,""))},[o,n,i,a,s,p,d,b,r,v,H,R,L,Y,Z,O,G,q,N]}class Re extends Oe{constructor(t){super(),Ue(this,t,Ke,xe,Ne,{})}}function Ze(l){let t,e,a,o;return t=new $e({props:{richColors:!0,position:"bottom-center",closeButton:!0}}),a=new Re({}),{c(){fe(t.$$.fragment),e=C(),fe(a.$$.fragment)},l(s){pe(t.$$.fragment,s),e=I(s),pe(a.$$.fragment,s)},m(s,p){he(t,s,p),z(s,e,p),he(a,s,p),o=!0},p:He,i(s){o||(me(t.$$.fragment,s),me(a.$$.fragment,s),o=!0)},o(s){_e(t.$$.fragment,s),_e(a.$$.fragment,s),o=!1},d(s){s&&_(e),be(t,s),be(a,s)}}}class Ye extends Oe{constructor(t){super(),Ue(this,t,null,Ze,Ne,{})}}export{Ye as component};
