import{a as Oe,e as p,d as C,t as ie,f as h,h as g,k as m,l as D,v as X,j as oe,w as c,z as Ae,m as M,o,x as H,B as A,r as He,H as Ue,I as Be,C as Me,p as ze,n as $e}from"../chunks/scheduler.C56bEs1V.js";import{S as Pe,i as je,c as me,b as _e,m as ve,t as be,a as ge,d as we}from"../chunks/index.izBhtSeB.js";import{e as De,S as Ke,t as re,a as Re}from"../chunks/app.C_WStDme.js";import{D as Ze}from"../chunks/Dotlottie.Dvpy40Hs.js";function Se(l,t,e){const a=l.slice();return a[19]=t[e],a}function Ve(l){let t,e,a,r=(l[6].length>0?l[7][l[6]]:'<i class="fa-brands fa-twitter"></i>')+"",s,_,d=De(Object.keys(l[7])),n=[];for(let i=0;i<d.length;i+=1)n[i]=Ne(Se(l,d,i));return{c(){t=p("div"),e=p("div"),a=new Ue(!1),s=C(),_=p("ul");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){t=h(i,"DIV",{class:!0});var v=g(t);e=h(v,"DIV",{tabindex:!0,class:!0});var u=g(e);a=Be(u,!1),u.forEach(m),s=D(v),_=h(v,"UL",{tabindex:!0,class:!0});var b=g(_);for(let E=0;E<n.length;E+=1)n[E].l(b);b.forEach(m),v.forEach(m),this.h()},h(){a.a=null,c(e,"tabindex","0"),c(e,"class","btn bg-transparent border-none shadow-none"),c(_,"tabindex","0"),c(_,"class","menu dropdown-content bg-base-100 rounded-box z-[1] w-fit p-2 shadow"),c(t,"class","dropdown")},m(i,v){M(i,t,v),o(t,e),a.m(r,e),o(t,s),o(t,_);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(_,null)},p(i,v){if(v&64&&r!==(r=(i[6].length>0?i[7][i[6]]:'<i class="fa-brands fa-twitter"></i>')+"")&&a.p(r),v&192){d=De(Object.keys(i[7]));let u;for(u=0;u<d.length;u+=1){const b=Se(i,d,u);n[u]?n[u].p(b,v):(n[u]=Ne(b),n[u].c(),n[u].m(_,null))}for(;u<n.length;u+=1)n[u].d(1);n.length=d.length}},d(i){i&&m(t),Me(n,i)}}}function Ne(l){let t,e,a,r=l[7][l[19]]+"",s,_;function d(){return l[15](l[19])}return{c(){t=p("li"),e=p("button"),a=new Ue(!1),this.h()},l(n){t=h(n,"LI",{});var i=g(t);e=h(i,"BUTTON",{});var v=g(e);a=Be(v,!1),v.forEach(m),i.forEach(m),this.h()},h(){a.a=null},m(n,i){M(n,t,i),o(t,e),a.m(r,e),s||(_=A(e,"click",d),s=!0)},p(n,i){l=n},d(n){n&&m(t),s=!1,_()}}}function xe(l){let t,e,a;return{c(){t=ie("(KES "),e=ie(l[3]),a=ie(")")},l(r){t=oe(r,"(KES "),e=oe(r,l[3]),a=oe(r,")")},m(r,s){M(r,t,s),M(r,e,s),M(r,a,s)},p(r,s){s&8&&ze(e,r[3])},d(r){r&&(m(t),m(e),m(a))}}}function Le(l){let t;return{c(){t=p("span"),this.h()},l(e){t=h(e,"SPAN",{class:!0}),g(t).forEach(m),this.h()},h(){c(t,"class","loading loading-spinner loading-xs")},m(e,a){M(e,t,a)},d(e){e&&m(t)}}}function qe(l){let t,e,a,r,s,_,d,n,i='<span class="text-3xl">Buy David a Coffee</span> <div><span class="badge badge-warning text-[8.3px] md:text-[10px]">You&#39;ll receive a push notification from Â <strong>CRAFTIT LTD</strong></span></div>',v,u,b,E,Y="100",R,x,G="300",Z,L,Q="500",q,V,O,U,S,W,P,ue=l[1].includes("@"),ee,B,ce,j,de,$,I,fe,te,le,pe,z,ke='<span class="text-xs mr-5 mt-5">Powered by</span> <img src="/mpesa.png" alt="mpesa logo" width="50" height="75"/>',F,he,ye;s=new Ze({props:{src:"/coffee.lottie",background:"transparent",speed:"1",direction:"1",playMode:"normal",autoplay:!0,loop:!0}});let w=ue&&Ve(l),k=l[3]>0&&xe(l),y=l[5]&&Le();return{c(){t=p("div"),e=p("div"),a=p("div"),r=p("div"),me(s.$$.fragment),_=C(),d=p("div"),n=p("div"),n.innerHTML=i,v=C(),u=p("div"),b=p("div"),E=p("button"),E.textContent=Y,R=C(),x=p("button"),x.textContent=G,Z=C(),L=p("button"),L.textContent=Q,q=C(),V=p("div"),O=p("input"),U=C(),S=p("input"),W=C(),P=p("label"),w&&w.c(),ee=C(),B=p("input"),ce=C(),j=p("textarea"),de=C(),$=p("div"),I=p("button"),fe=ie("Support "),k&&k.c(),te=C(),y&&y.c(),pe=C(),z=p("div"),z.innerHTML=ke,this.h()},l(f){t=h(f,"DIV",{style:!0,class:!0});var T=g(t);e=h(T,"DIV",{class:!0});var se=g(e);a=h(se,"DIV",{class:!0});var Te=g(a);r=h(Te,"DIV",{class:!0});var Ee=g(r);_e(s.$$.fragment,Ee),Ee.forEach(m),Te.forEach(m),_=D(se),d=h(se,"DIV",{class:!0});var N=g(d);n=h(N,"DIV",{class:!0,"data-svelte-h":!0}),X(n)!=="svelte-3k0myx"&&(n.innerHTML=i),v=D(N),u=h(N,"DIV",{class:!0});var ae=g(u);b=h(ae,"DIV",{class:!0});var K=g(b);E=h(K,"BUTTON",{class:!0,"data-svelte-h":!0}),X(E)!=="svelte-46zycw"&&(E.textContent=Y),R=D(K),x=h(K,"BUTTON",{class:!0,"data-svelte-h":!0}),X(x)!=="svelte-likrhw"&&(x.textContent=G),Z=D(K),L=h(K,"BUTTON",{class:!0,"data-svelte-h":!0}),X(L)!=="svelte-16ik34"&&(L.textContent=Q),K.forEach(m),q=D(ae),V=h(ae,"DIV",{class:!0});var Ie=g(V);O=h(Ie,"INPUT",{type:!0,class:!0}),Ie.forEach(m),ae.forEach(m),U=D(N),S=h(N,"INPUT",{type:!0,class:!0,placeholder:!0}),W=D(N),P=h(N,"LABEL",{class:!0});var ne=g(P);w&&w.l(ne),ee=D(ne),B=h(ne,"INPUT",{type:!0,class:!0,placeholder:!0}),ne.forEach(m),ce=D(N),j=h(N,"TEXTAREA",{class:!0,placeholder:!0}),g(j).forEach(m),de=D(N),$=h(N,"DIV",{class:!0});var Ce=g($);I=h(Ce,"BUTTON",{class:!0});var J=g(I);fe=oe(J,"Support "),k&&k.l(J),te=D(J),y&&y.l(J),J.forEach(m),Ce.forEach(m),N.forEach(m),se.forEach(m),pe=D(T),z=h(T,"DIV",{class:!0,"data-svelte-h":!0}),X(z)!=="svelte-18f84r"&&(z.innerHTML=ke),T.forEach(m),this.h()},h(){c(r,"class","w-24 text-center"),c(a,"class","card-title justify-center"),c(n,"class","flex flex-col w-full text-center mb-5"),c(E,"class","btn bg-lime-400 hover:bg-lime-500 rounded-lg"),c(x,"class","btn bg-lime-400 hover:bg-lime-500 rounded-lg"),c(L,"class","btn bg-lime-400 hover:bg-lime-500 rounded-lg"),c(b,"class","space-x-2 w-full md:w-3/4"),c(O,"type","text"),c(O,"class","w-2/4 bg-slate-100 md:w-24 input input-bordered rounded-md"),c(V,"class","w-full mt-2 md:mt-0 md:w-1/4"),c(u,"class","flex flex-col md:flex-row"),c(S,"type","text"),c(S,"class","input input-bordered rounded-md text-sm"),c(S,"placeholder","Kenyan phone number (07...)"),c(B,"type","text"),c(B,"class","text-sm"),c(B,"placeholder","Name or @ (optional)"),c(P,"class","input input-bordered rounded-md flex items-center gap-2"),c(j,"class","textarea textarea-bordered rounded-md"),c(j,"placeholder","Message (optional)"),I.disabled=le=!l[3]||l[3]<100||l[4].length<1||l[4].length>10||l[5],c(I,"class","btn btn-warning text-center"),c($,"class","card-actions justify-end"),c(d,"class","card-body"),c(e,"class","card w-10/12 md:w-1/2 xl:w-1/3 shadow-xl m-auto"),c(z,"class","card w-1/2 xl:w-1/3 m-auto mt-10 flex flex-row justify-end"),Ae(t,"height","100vh"),c(t,"class","pt-20 bg-lime-50")},m(f,T){M(f,t,T),o(t,e),o(e,a),o(a,r),ve(s,r,null),o(e,_),o(e,d),o(d,n),o(d,v),o(d,u),o(u,b),o(b,E),o(b,R),o(b,x),o(b,Z),o(b,L),o(u,q),o(u,V),o(V,O),H(O,l[0]),o(d,U),o(d,S),H(S,l[4]),o(d,W),o(d,P),w&&w.m(P,null),o(P,ee),o(P,B),H(B,l[1]),o(d,ce),o(d,j),H(j,l[2]),o(d,de),o(d,$),o($,I),o(I,fe),k&&k.m(I,null),o(I,te),y&&y.m(I,null),o(t,pe),o(t,z),F=!0,he||(ye=[A(E,"click",l[10]),A(x,"click",l[11]),A(L,"click",l[12]),A(O,"input",l[13]),A(S,"input",l[14]),A(B,"input",l[16]),A(j,"input",l[17]),A(I,"click",l[18])],he=!0)},p(f,[T]){T&1&&O.value!==f[0]&&H(O,f[0]),T&16&&S.value!==f[4]&&H(S,f[4]),T&2&&(ue=f[1].includes("@")),ue?w?w.p(f,T):(w=Ve(f),w.c(),w.m(P,ee)):w&&(w.d(1),w=null),T&2&&B.value!==f[1]&&H(B,f[1]),T&4&&H(j,f[2]),f[3]>0?k?k.p(f,T):(k=xe(f),k.c(),k.m(I,te)):k&&(k.d(1),k=null),f[5]?y||(y=Le(),y.c(),y.m(I,null)):y&&(y.d(1),y=null),(!F||T&56&&le!==(le=!f[3]||f[3]<100||f[4].length<1||f[4].length>10||f[5]))&&(I.disabled=le)},i(f){F||(be(s.$$.fragment,f),F=!0)},o(f){ge(s.$$.fragment,f),F=!1},d(f){f&&m(t),we(s),w&&w.d(),k&&k.d(),y&&y.d(),he=!1,He(ye)}}}function Fe(l,t,e){let a=0,r="",s="",_=!1,d="",n="",i="",v={twirra:'<i class="fa-brands fa-twitter"></i>',tiktok:'<i class="fa-brands fa-tiktok"></i>',insta:'<i class="fa-brands fa-instagram"></i>',linkedin:'<i class="fa-brands fa-linkedin"></i>'};function u(V){e(3,a=V)}async function b(){var S;e(5,_=!0);let V=s.replace(/^0+/,"254").replace(/[^0-9]/g,"").replace(/\s/,""),U=await(await fetch(Ke+"/api/coffee/mpesa",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({amount:a,phone:V,socialat_name_handle:n,message:i,socialat:d})}).catch(W=>{re.error("Couldn't communicate with the server"),e(5,_=!1)})).json();(S=U==null?void 0:U.body)!=null&&S.response?U.body.response.status=="success"?re.success(U.body.response.message,5e3):re.warning(U.body.response.message,6500):re.error("Server error",6500),e(5,_=!1)}const E=()=>u(100),Y=()=>u(300),R=()=>u(500);function x(){r=this.value,e(0,r)}function G(){s=this.value,e(4,s)}const Z=V=>e(6,d=V);function L(){n=this.value,e(1,n)}function Q(){i=this.value,e(2,i)}const q=()=>b();return l.$$.update=()=>{l.$$.dirty&1&&e(0,r=r.replace(/[^0-9]/g,"")),l.$$.dirty&1&&e(3,a=r),l.$$.dirty&2&&e(1,n=n.replace(/[^a-zA-Z0-9\.@_-\s]/g,"")),l.$$.dirty&4&&e(2,i=i.replace(/[^a-zA-Z0-9\.@,_-\s\!\?]/g,""))},[r,n,i,a,s,_,d,v,u,b,E,Y,R,x,G,Z,L,Q,q]}class Je extends Pe{constructor(t){super(),je(this,t,Fe,qe,Oe,{})}}function Xe(l){let t,e,a,r;return t=new Re({props:{richColors:!0,position:"bottom-center",closeButton:!0}}),a=new Je({}),{c(){me(t.$$.fragment),e=C(),me(a.$$.fragment)},l(s){_e(t.$$.fragment,s),e=D(s),_e(a.$$.fragment,s)},m(s,_){ve(t,s,_),M(s,e,_),ve(a,s,_),r=!0},p:$e,i(s){r||(be(t.$$.fragment,s),be(a.$$.fragment,s),r=!0)},o(s){ge(t.$$.fragment,s),ge(a.$$.fragment,s),r=!1},d(s){s&&m(e),we(t,s),we(a,s)}}}class et extends Pe{constructor(t){super(),je(this,t,null,Xe,Oe,{})}}export{et as component};
